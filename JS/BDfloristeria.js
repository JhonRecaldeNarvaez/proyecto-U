const data = [
  {id: 1,
    img: "IMG/rosas.jpg.jpeg",
    Nombredeflor: "Rosa",
    precio: 32000,
    categoria: "Silver",
    cantidadUnidades: 50,
  },
  {
    id: 2,
    img: "IMG/LIRIO.jpg",
    Nombredeflor: "Lirio",
    precio: 25500,
    categoria: "Silver",
    cantidadUnidades: 30,
  },
  {
    id: 3,
    img: "IMG/TULIPAN.webp",
    Nombredeflor: "Tulipán",
    precio: 55000,
    categoria: "Gold",
    cantidadUnidades: 10,
  },
  {
    id: 4,
    img: "IMG/ORQUIDEA.jpg",
    Nombredeflor: "Orquídea",
    precio: 78000,
    categoria: "Platinum",
    cantidadUnidades: 20,
  },
  {
    id: 5,
    img: "IMG/GIRASOL.JPG",
    Nombredeflor: "Girasol",
    precio: 42000,
    categoria: "Gold",
    cantidadUnidades: 15,
  },
  {
    id: 6,
    img: "IMG/MARGARITA.jpg",
    Nombredeflor: "Margarita",
    precio: 18000,
    categoria: "Silver",
    cantidadUnidades: 40,
  },
  {
    id: 7,
    img: "IMG/AMAPOLA.jpeg",
    Nombredeflor: "Amapola",
    precio: 32000,
    categoria: "Silver",
    cantidadUnidades: 25,
  },
  {
    id: 8,
    img: "IMG/CLAVEL.jpg",
    Nombredeflor: "Clavel",
    precio: 29000,
    categoria: "Gold",
    cantidadUnidades: 18,
  },
  {
    id: 9,
    img: "IMG/AZUCENBA.jpg",
    Nombredeflor: "Azucena",
    precio: 60000,
    categoria: "Platinum",
    cantidadUnidades: 12,
  },
  {
    id: 10,
    img: "IMG/LAVANDA.jpg",
    Nombredeflor: "Lavanda",
    precio: 48000,
    categoria: "Gold",
    cantidadUnidades: 22,
  },
  {
    id: 11,
    img: "IMG/CALENDULA.jpg",
    Nombredeflor: "Caléndula",
    precio: 35000,
    categoria: "Silver",
    cantidadUnidades: 28,
  },
  {
    id: 12,
    img: "IMG/DALIA.jpg",
    Nombredeflor: "Dalia",
    precio: 43000,
    categoria: "Gold",
    cantidadUnidades: 24,
  },
  {
    id: 13,
    img: "IMG/PEONIA.jpg",
    Nombredeflor: "Peonía",
    precio: 51000,
    categoria: "Platinum",
    cantidadUnidades: 8,
  },
  {
    id: 14,
    img: "IMG/HORTENSIA.jpg",
    Nombredeflor: "Hortensia",
    precio: 67000,
    categoria: "Platinum",
    cantidadUnidades: 15,
  },
  {
    id: 15,
    img: "IMG/CRÓTALO.jpg",
    Nombredeflor: "Crótalo",
    precio: 32000,
    categoria: "Silver",
    cantidadUnidades: 36,
  },
  {
    id: 16,
    img: "IMG/ASTER.jpg",
    Nombredeflor: "Aster",
    precio: 40000,
    categoria: "Gold",
    cantidadUnidades: 14,
  },
  {
    id: 17,
    img: "IMG/BEGOÑA.jpg",
    Nombredeflor: "Begonia",
    precio: 37000,
    categoria: "Silver",
    cantidadUnidades: 32,
  },
  {
    id: 18,
    img: "IMG/CAMELIA.jpg",
    Nombredeflor: "Camelia",
    precio: 59000,
    categoria: "Platinum",
    cantidadUnidades: 10,
  },
  {
    id: 19,
    img: "IMG/DIENTE.jpg",
    Nombredeflor: "Diente de león",
    precio: 34000,
    categoria: "Silver",
    cantidadUnidades: 28,
  },
  {
    id: 20,
    img: "IMG/EUSTOMA.jpg",
    Nombredeflor: "Eustoma",
    precio: 45000,
    categoria: "Gold",
    cantidadUnidades: 20,
  },
  {
    id: 21,
    img: "IMG/FREESIA.jpg",
    Nombredeflor: "Freesia",
    precio: 48000,
    categoria: "Gold",
    cantidadUnidades: 18,
  },
  {
    id: 22,
    img: "IMG/GERANIO.jpg",
    Nombredeflor: "Geranio",
    precio: 39000,
    categoria: "Silver",
    cantidadUnidades: 25,
  },
  {
    id: 23,
    img: "IMG/HIBISCO.jpg",
    Nombredeflor: "Hibisco",
    precio: 55000,
    categoria: "Gold",
    cantidadUnidades: 15,
  },
  {
    id: 24,
    img: "IMG/IRIS.jpg",
    Nombredeflor: "Iris",
    precio: 43000,
    categoria: "Silver",
    cantidadUnidades: 30,
  },
  {
    id: 25,
    img: "IMG/JACINTO.jpg",
    Nombredeflor: "Jacinto",
    precio: 60000,
    categoria: "Platinum",
    cantidadUnidades: 12,
  },
  {
    id: 26,
    img: "IMG/LAVANTERA.jpg",
    Nombredeflor: "Lavatera",
    precio: 35000,
    categoria: "Silver",
    cantidadUnidades: 32,
  },
  {
    id: 27,
    img: "IMG/MALVA.jpg",
    Nombredeflor: "Malva",
    precio: 42000,
    categoria: "Gold",
    cantidadUnidades: 20,
  },
  {
    id: 28,
    img: "IMG/NARCISO.webp",
    Nombredeflor: "Narciso",
    precio: 50000,
    categoria: "Platinum",
    cantidadUnidades: 14,
  },
  {
    id: 29,
    img: "IMG/OSTICAS.jpg",
    Nombredeflor: "Ostica",
    precio: 28000,
    categoria: "Silver",
    cantidadUnidades: 40,
  },
  {
    id: 30,
    img: "IMG/PETUNIAS.jpg",
    Nombredeflor: "Petunia",
    precio: 39000,
    categoria: "Gold",
    cantidadUnidades: 22,
  },
  {
    id: 31,
    img: "IMG/QUINTO.jpg",
    Nombredeflor: "Quinto",
    precio: 34000,
    categoria: "Silver",
    cantidadUnidades: 28,
  },
  {
    id: 32,
    img: "IMG/ROSELINA.jpg",
    Nombredeflor: "Roselina",
    precio: 59000,
    categoria: "Platinum",
    cantidadUnidades: 10,
  },
  {
    id: 33,
    img: "IMG/SANTA PAZ.jpg",
    Nombredeflor: "Santapaz",
    precio: 47000,
    categoria: "Gold",
    cantidadUnidades: 18,
  },
  {
    id: 34,
    img: "IMG/TREVIR..jpg",
    Nombredeflor: "Trevir",
    precio: 38000,
    categoria: "Silver",
    cantidadUnidades: 25,
  },
  {
    id: 35,
    img: "IMG/Ursalia.jpeg",
    Nombredeflor: "Ursalia",
    precio: 62000,
    categoria: "Platinum",
    cantidadUnidades: 8,
  },
  {
    id: 36,
    img: "IMG/VIOLETA.jpg",
    Nombredeflor: "Violeta",
    precio: 30000,
    categoria: "Silver",
    cantidadUnidades: 35,
  },
  {
    id: 37,
    img: "IMG/WISTERIA.jpg",
    Nombredeflor: "Wisteria",
    precio: 53000,
    categoria: "Gold",
    cantidadUnidades: 16,
  },
  {
    id: 38,
    img: "IMG/XAVIER.jpg",
    Nombredeflor: "Xavier",
    precio: 46000,
    categoria: "Silver",
    cantidadUnidades: 24,
  },
  {
    id: 39,
    img: "IMG/JASMIN.jpg",
    Nombredeflor: "Jasmin",
    precio: 52000,
    categoria: "Gold",
    cantidadUnidades: 14,
  },
  {
    id: 40,
    img: "IMG/ZINIA.jpg",
    Nombredeflor: "Zinia",
    precio: 40000,
    categoria: "Silver",
    cantidadUnidades: 30,
  },
  {
    id: 41,
    img: "IMG/Alhelí.jpg",
    Nombredeflor: "Alhelí",
    precio: 35000,
    categoria: "Gold",
    cantidadUnidades: 18,
  },
  {
    id: 42,
    img: "IMG/BAMBOO-.jpg",
    Nombredeflor: "Bambú",
    precio: 59000,
    categoria: "Platinum",
    cantidadUnidades: 12,
  },
  {
    id: 43,
    img: "IMG/CAMPANILLA.jpg",
    Nombredeflor: "Campanilla",
    precio: 51000,
    categoria: "Gold",
    cantidadUnidades: 11,
  },
  {
    id: 44,
    img: "IMG/Aconito.jpeg",
    Nombredeflor: "Aconito",
    precio: 42000,
    categoria: "Silver",
    cantidadUnidades: 25,
  },
  {
    id: 45,
    img: "IMG/BEGOÑA.jpg",
    Nombredeflor: "bellopnas2",
    precio: 38000,
    categoria: "Platinum",
    cantidadUnidades: 20,
  },
  {
    id: 46,
    img: "IMG/Gladiolo.jpeg",
    Nombredeflor: "Gladiolo",
    precio: 46000,
    categoria: "Silver",
    cantidadUnidades: 15,
  },
  {
    id: 47,
    img: "IMG/FREESIA.jpg",
    Nombredeflor: "Fuchisa",
    precio: 49000,
    categoria: "Gold",
    cantidadUnidades: 18,
  },
  {
    id: 48,
    img: "IMG/celonia.jpeg",
    Nombredeflor: "Celonia",
    precio: 34000,
    categoria: "Silver",
    cantidadUnidades: 30,
  },
  {
    id: 49,
    img: "IMG/sepulia.jpeg",
    Nombredeflor: "Espuela de caballero",
    precio: 58000,
    categoria: "Gold",
    cantidadUnidades: 12,
  },,
{
  id: 50,
  img: "IMG/sepulia2.jpeg",
  Nombredeflor: "sepulia2",
  precio: 41000,
  categoria: "Platinum",
  cantidadUnidades: 22,
}

  // Agrega más datos según sea necesario
];

let currentPage = 0;
let currentCategory = null;
let currentPriceRanges = [];

function llenarTarjetasConDatosDelArreglo() {
  const filteredData = data.filter((item) =>
      (!currentCategory || item.categoria === currentCategory) &&
      (!currentPriceRanges.length || currentPriceRanges.includes(getPriceRange(item.precio)))
  );

  const tarjetas = document.querySelectorAll(".targetas__car");
  tarjetas.forEach((tarjeta, index) => {
      const div = tarjeta.querySelector("div");
      const { categoria, precio, Nombredeflor, cantidadUnidades, img } = filteredData[index + currentPage * tarjetas.length];
      tarjeta.querySelector(".targetas__img").src = img;
      div.children[0].textContent = "Categoria: " + categoria;
      div.children[1].textContent = "Precio: $" + precio;
      div.children[2].textContent = "Especie: " + Nombredeflor;
      div.children[3].textContent = "Cantidad: " + cantidadUnidades;
      div.children[4].textContent = "Disponible: " + (Math.random() > 0.5 ? "Sí" : "No");
  });
}

function actualizarNumeroDePagina() {
  document.getElementById("pageNumber").textContent = currentPage + 1;
}

function filtrarPorPrecio(checkbox) {
  const priceRange = checkbox.value;

  if (checkbox.checked) {
      currentPriceRanges.push(priceRange);
  } else {
      const index = currentPriceRanges.indexOf(priceRange);
      if (index !== -1) {
          currentPriceRanges.splice(index, 1);
      }
  }

  currentPage = 0;
  llenarTarjetasConDatosDelArreglo();
  actualizarNumeroDePagina();
}

function getPriceRange(price) {
  if (price <= 30000) return "0-30000";
  if (price <= 50000) return "30000-50000";
  if (price <= 90000) return "50000-90000";
  return "90000-300000";
}

function filtrarPorCategoria(categoria) {
  currentCategory = categoria;
  currentPage = 0;
  llenarTarjetasConDatosDelArreglo();
  actualizarNumeroDePagina();
}

function limpiarFiltros() {
  const checkboxes = document.querySelectorAll('input[type="checkbox"]');
  checkboxes.forEach((checkbox) => {
      checkbox.checked = false;
  });

  currentCategory = null;
  currentPriceRanges = [];

  currentPage = 0;
  llenarTarjetasConDatosDelArreglo();
  actualizarNumeroDePagina();
}

function irAtras() {
  if (currentPage > 0) {
      currentPage--;
      llenarTarjetasConDatosDelArreglo();
      actualizarNumeroDePagina();
  }
}

function irSiguiente() {
  const totalPages = Math.ceil(data.length / document.querySelectorAll(".targetas__car").length);
  if (currentPage < totalPages - 1) {
      currentPage++;
      llenarTarjetasConDatosDelArreglo();
      actualizarNumeroDePagina();
  }
}

document.getElementById("btnAtras").addEventListener("click", irAtras);
document.getElementById("btnSiguiente").addEventListener("click", irSiguiente);
window.onload = function () {
  llenarTarjetasConDatosDelArreglo();
  actualizarNumeroDePagina();
};